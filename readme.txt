=== Email newsletter ===
Contributors: dabelon, wenzhixue, gopiplus
Donate link: http://www.gopiplus.com/work/2010/09/25/email-newsletter
Author URI: http://www.gopiplus.com/work/2010/09/25/email-newsletter/
Plugin URI: http://www.gopiplus.com/work/2010/09/25/email-newsletter/
Tags: Email, Newsletter, SendMail, Contact, plugin, widgets
Requires at least: 3.0
Tested up to: 3.8
Stable tag: 17.0
License: GPLv2 or later
License URI: http://www.gnu.org/licenses/gpl-2.0.html
	
This easy-to-use plugin provides a simple way for Wordpress users to email registered users, commenters and subscribers.

== Description ==

Email Newsletter plugin has options to send HTML emails/newsletters to registered users, comment authors, subscribers and contact form users.  When a visitor registers, comments, subscribes or uses the Simple Contact Form plugin, their information is stored in a database.  Email Newsletter plugin users can view their user base, and email users.  This plugin also sends automated email updates to registered users based on activity relevant to that user. This plugin is great for those who seek an easy way to capture user information and send newsletters and automated email updates.

= Features =
	
1. Easy installation and setup that requires no coding skills.
2. Customizable opt-in form.
3. Newsletter editor.
4. Alphabetized batch sending.
5. Unsubscribe link embedded in email
6. Single or double opt-in.
7. Import and export email addresses.
8. Send test emails.
9. Automatic welcome email to new subscriber.
10. Email notification to admin when user signs up.
11. Support for localization or internationalization (Translators Welcome)

(*Double opt-in*: Subscriber confirms email address by clicking link in confirmation email.  This reduces the amount of non-deliverable emails.)

= Usage =

Once the plugin is installed, a new icon shaped like a sprocket will appear on the admin left sidebar.  Clicking this icon will open a drop-down menu with the following options.

= ReadyGraph App =

This menu item allows users to sign up for a free ReadyGraph account, or sync an existing free ReadyGraph account to Email Newsletter.  Once a ReadyGraph account is synced with Email Newsletter, this menu item is where the user manages their ReadyGraph accounts views email addresses, sends emails to their community members, and views insights on user growth.

= General Information =

This menu item includes a description of and instructions for the various functions of the plugin.

= Compose Mail =

This menu item opens the mail editor where newsletters are composed.  Enter a subject line and body text.  When finished, select `Yes` in the display status menu, and click `Insert Details`.  This saves to email so that it can be distributed.

= Mail to a Registered User =

This menu item is for sending a previously composed email to registered users.  Registered users are sorted alphabetically and numerically.  Clicking `ALL` reveals all registered users.  To exclude a registered user from the email, un-check the box next to their email address.  All users are selected by default. Use the `Select email subject` drop-down menu to choose a previously composed email.  Click `Send Email` to send the email.

Alternatively, to send email to registered users through Readygraph, go to the `Readygraph app` menu item (by clicking the cog-shaped icon).  Click `Manage Account` and sign in.  From the Insights page, click the `Send Email` button on right side of the screen just above the list of subscribers.  Add a subject line and compose your message in this window, and click `Send`.

= Mail to Commenters =

Use this menu item to send previously composed email to users that have left comments on your page. Users that have left comments are sorted alphabetically and numerically.  Clicking `ALL` reveals all registered users.  To exclude a commenter from the email, un-check the box next to their email address.  All commenters are selected by default. Use the `Select email subject` drop-down menu to choose a previously composed email.  Click `Send Email` to send the email.

= Mail to Subscribed Users =

This menu item allows the plugin user to send previously composed emails to visitors that have opted-in by entering their email into the widget on the plugin user’s Wordpress page.  Visitors that have opted-in are sorted alphabetically and numerically.  Clicking `ALL` reveals all subscribed users.  To exclude a subscribed user from the email, un-check the box next to their email address.  All subscribed users are selected by default. Use the `Select email subject` drop-down menu to choose a previously composed email.  Click `Send Email` to send the email.

= Mail to Contact Form User =

This menu item is for sending previously composed emails to visitors that have contacted the plugin user using `Simple Contact Form`, which is a complimentary plugin to Email Newsletter that must be downloaded and installed separately. Visitors that have contacted the plugin user through Simple Contact Form are sorted alphabetically and numerically.  Clicking `ALL` reveals all Simple Contact Form users.  To exclude a Simple Contact Form user from the email, un-check the box next to their email address.  This page will mail all Simple Contact Form plugin users, which can be downloaded [here](http://wordpress.org/plugins/simple-contact-form/). Use the `Select email subject` drop-down menu to choose a previously composed email.  Click `Send Email` to send the email.

= View Subscriber =

This menu item displays a list of subscribed users (visitors that have opted in via the widget on the plugin user’s Wordpress page).  From this page the plugin user can take bulk actions, such as deleting subscribers and resending the confirmation email (for double opt-in).  Shortcuts to the `Import Email` and `Export Email (CSV)` pages also appear on this page to facilitate subscriber management.

= Setup Widget =

This menu item contains options regarding which Wordpress pages the widget will be displayed on.  The user can choose to have the widget appear on the homepage, embedded in posts, on the search page and on the archives page.  It also allows for the personalization of the text both above and within the widget. 

= Setup Email =

This menu item allows the plugin user to configure email settings for the plugin.  The plugin user can designate the email address from which newsletters will be sent, designate the admin email address and customize the subject line and body text for subscriber confirmation and admin notification emails.  The plugin user also has the ability to deactivate these notification emails as well as choose an HTML or plain-text format.

= Setup Unsubscribe =

In this menu item the plugin user can activate and deactivate the unsubscribe option.  The plugin user also has the ability to customize the text of the unsubscribe link and error message.

= Opt in Settings =

From this menu item the plugin user can choose between a single or double opt-in.  In a single opt-in, a subscriber enters their email in the widget and is immediately signed up once they click submit.  In a double opt-in, they receive a confirmation email with an activation link, and are not subscribed until they click the link.  Double opt-in helps to decrease undeliverable emails caused by invalid email addresses.

The plugin user can also customize the subject line and body text for the confirmation email from this page, as well as confirmation message and error message text.

= Export Users to CSV =

From this menu item the plugin user can export subscriber email addresses, registered user email addresses, comment author email addresses, and contact form user email addresses in CSV format.  (Contact form users are visitors that have contacted admins using `Simple Contact Form`, which is a complimentary plugin to Email Newsletter that must be downloaded and installed separately.)  This page also includes a shortcut to the `Import Email` page to facilitate subscriber management.

= Import Mails =

The menu item allows subscribers to be added manually.  Subscribers can be added with `Old Email`, `Single Opt In`, `Not Confirmed`, `Confirmed`, or `Unsubscribed` status.  Emails must be added in the specified format (separated by commas, with no spaces between entries).  A maximum of 25 email addresses can be added at one time.

= Send Test Mail =

This menu item allows the plugin user to send test emails to up to 3 email addresses at once.  The plugin user simply selects a previously composed email from the `Select Email Subject` drop-down menu, types the recipient email addresses and click `Send Email`.

= Translators =

* English (en_EN) - [Gopi Ramasamy](http://www.gopiplus.com/)
* German (de_DE) - [Stefan Lechner]
* Tamil (ta) - [Gopi Ramasamy](http://www.gopiplus.com/)

== Installation ==

= Installation Instruction =
	
= Method 1 =
	
1. Download the plugin email-newsletter.zip
2. Unpack the *.zip file and extract the `/email-newsletter/` folder
3. Drop the email-newsletter folder into your ‘wp-content/plugins` folder
4. Click the `plugins` icon on the Wordpress admin dashboard and select `Installed Plugins`.
5. Click the `Activate` link under Email Newsletter.
6. Enter your site URL, Name, Email and Password in the ReadyGraph on the left side of the ReadyGraph account registration form and click `Continue`, or log-in with an existing account by entering your Email and Password on the form loacated on the right side of the screen and click `Sign in`. (Users can elect not to activate ReadyGraph features by omitting this step, and using the other the Email Newsletter functions through the Email Newsletter drop-down menu, by clicking the sprocket shaped icon on the admin left sidebar.)
7. Click the  `Place Widget` button to be redirected to the Wordpress Widget Appearance page. Locate the Email Newsletter widget and drag-and-drop it in the sidebar on the right side of your screen. To maximize signups, we suggest placing it towards to top of your sidebar, so that it appears prominently on your Wordpress page.
	
If accessibility mode is *enabled*:
Locate the "Email Newsletter" widget, and click the `Add` button.  From the menu, designate the location of the widget 	on your Wordpress page and assign it a rank.  To maximize 	signups, we suggest placing it in a prominent location with a high placement rank.

= Method 2 =
	
1. Click the `Plugins` icon on the Wordpress admin dashboard and select `Add New`
2. Use the Search Plugins feature to find Email Newsletter
3. Click the `Install Now` link beneath Email Newsletter
4. Click `OK` when you are asked “Are you sure you want to install this plugin?
5. Click `Activate Plugin`
6. Enter your site URL, Name, Email and Password in the ReadyGraph on the left side of the ReadyGraph account registration form and click `Continue`, or log-in with an existing account by entering your Email and Password on the right side of the form and click `Sign in`. (Users can elect not to activate ReadyGraph features by omitting this step, and using the other the Email Newsletter functions through the Email Newsletter drop-down menu, by clicking the sprocket shaped icon on the admin left sidebar.)
7. Click the  `Place Widget` button to be redirected to the Wordpress Widget Appearance page. Locate the Email Newsletter widget and drag-and-drop it in the sidebar on the right side of your screen. To maximize signups, we suggest placing it towards to top of your sidebar, so that it appears prominently on your Wordpress page.
	
If accessibility mode is *enabled*:
Locate the “Email Newsletter” widget, and click the `Add` button.  From the menu, designate the location of the widget on your Wordpress page and assign it a rank.  To maximize signups, we suggest placing it in a prominent location with a high placement rank.

= Method 3 =
	
1. Download the plugin email-newsletter.zip
2. Click the ‘Plugins’ icon on the Wordpress admin dashboard and select ‘Add New’
3. Click the ‘this page’ link to upload a plugin in .zip format 
4. Click ‘Choose File’ and locate and select email-newsletter.zip Click “Choose”
5. Click “Install Now”
6. Click “Activate Plugin” 
7. Enter your site URL, Name, Email and Password in the ReadyGraph on the left side of the ReadyGraph account registration form and click `Continue`, or log-in with an existing account by entering your Email and Password on the right side of the form and click `Sign In`. (Users can elect not to activate ReadyGraph features by omitting this step, and using the other the Email Newsletter functions through the Email Newsletter drop-down menu, by clicking the sprocket shaped icon on the admin left sidebar.)
8. Click the  `Place Widget` button to be redirected to the Wordpress Widget Appearance page. Locate the Email Newsletter widget and drag-and-drop it in the sidebar on the right side of your screen. To maximize signups, we suggest placing it towards to top of your sidebar, so that it appears prominently on your Wordpress page.
	
If accessibility mode is *enabled*:
Locate the “Email Newsletter” widget, and click the `Add` button.  From the menu, designate the location of the widget on your Wordpress page and assign it a rank.  To maximize signups, we suggest placing it in a prominent location with a high placement rank.
	
= Further Configuration =

The plugin can be further configured through the `Setup Widget`, `Setup Email`, `Setup Unsubscribe` and `Opt in Settings` menu items, described above.

== Frequently Asked Questions ==

= 1. How to compose email? =

To Compose email, go to the `Compose Mail` menu item in the Email Newsletter plugin drop-down menu (by clicking the cog-shaped icon).  Enter a subject line and body text.  When finished, select `Yes` in the display status menu, and click `Insert Details`.  This saves to email so that it can be distributed.

= 2. How to send email to registered user? =

To send email to registered users, go to the `Mail to a Registered User` menu item in the Email Newsletter plugin drop-down menu (by clicking the cog-shaped icon).  Registered users are sorted alphabetically and numerically.  Clicking `ALL` reveals all registered users.  To exclude a registered user from the email, un-check the box next to their email address.  All users are selected by default. Use the “Select email subject” drop-down menu to choose a previously composed email.  Click `Send Email` to send the email.

Alternatively, to send email to registered users through Readygraph, go to the Readygraph app menu item (by clicking the cog-shaped icon).  Click `Manage Account` and sign in.  From the Insights page, click the `Send Email` button on right side of the screen just above the list of subscribers.  Add a subject line and compose your message in this window, and click `Send`.

= 3. How to send email to commenter's (Who posted comments on your WordPress page)? =

To send email to commenters, go to the `Mail to Commenters` menu item in the Email Newsletter plugin drop-down menu (by clicking the cog-shaped icon).  Commenters are sorted alphabetically and numerically.  Clicking `ALL` reveals all commenters.  To exclude a commenter from the email, un-check the box next to their email address.  All commenters are selected by default. Use the `Select email subject` drop-down menu to choose a previously composed email.  Click `Send Email` to send the email

= 4. How to send email to subscribed user? =

To send email to newsletter subscribers, go to the `Mail to Subscribed User` menu item in the Email Newsletter plugin drop-down menu (by clicking the cog-shaped icon).  Subscribed users are sorted alphabetically and numerically.  Clicking `ALL` reveals all subscribed users.  To exclude a subscribed user from the email, un-check the box next to their email address.  All subscribed users are selected by default. Use the `Select email subject` drop-down menu to choose a previously composed email.  Click `Send Email` to send the email

= 5. How to Export & Import email address? =

To *export* email addresses, go to the `Export Users to CSV` menu item in the Email Newsletter plugin drop-down menu (by clicking the cog-shaped icon). From this menu item the plugin user can export subscriber email addresses, registered user email addresses, comment author email addresses, and contact form user email addresses in CSV format.  Simply check the box next to the user category that you wish to export and click the link in the `Action` column that says, `Click to export to CSV`.

To *import* email addresses, go to the `Import Mails` menu item in the Email Newsletter plugin drop-down menu (by clicking the cog-shaped icon).  Enter the email addresses that you wish to import in the text box labeled `Enter email Subject`.  Email addresses must be separated with commas, with no space between addresses.  There should be no comma after the last address.  A maximum of 25 email addresses can be imported at a time.

= 6. What is Opt In? =

Opt-in is a term used in email marketing to confirm email addresses. *Double Opt In*, means that the subscribers need to confirm their email address with an activation link sent to them in an activation email. *Single Opt* In means that subscribers do not need to confirm their email address and will not receive an activation link or a confirmation email.

= 7. How to update Welcome email and Opt in email message? =

In the admin *Opt In setting* page there is a textbox to update the activation email content and subject line. Users can also add HTML content (with styling) in the email message textbox.
> `WordPress admin` -> `Email Newsletter` -> `Opt In Setting`

In the admin *Setup Email page* there is a separate textbox to update the welcome email content and subject line. In the same page, there is a dropdown box to enable and disable the welcome email.
> `WordPress admin` -> `Email Newsletter` -> `Setup Email`

= 8. How to resend confirmation mail? =

In *View subscriber* page there is an option to resend confirmation mail. If you click “Resend mail”, the current status of the email address automatically updates to “Not Confirmed”.
> `WordPress admin` -> `Email Newsletter` -> `View Subscriber`

= 9. What is "status" on the subscriber page, and how many statuses are there? =

Status shows the current state of the email address in Email Newsletter plugin.

* Old Email: Emails subscribed before plugin version 15.0 (i.e. before Opt-In option)
* Single Opt In: Emails subscribed using single Opt-In option.
* Not confirmed: Confirmation mail sent and waiting for confirmation (The recipient has not clicked the activation link) 
* Confirmed: Emails confirmed by double Opt-in
* Unsubscribed: Unsubscribed emails.

= 10. How to update subscription box alert message? (Double Opt-in) =
	
*“You have successfully subscribed to the newsletter. You will receive a confirmation email in few minutes. Please follow the link in it to confirm your subscription. If the email takes more than 15 minutes to appear in your mailbox, please check your spam folder.”*

The above text is the default message for the subscription alert box. To change this text, edit the `widget.js` file in the `email-newsletter` folder in your website’s database
> `WordPress admin` -> `Plugins` -> `Editor` -> Select `Email Newsletter` in drop down -> Select `email-newsletter/widget/widget.js` file

In this file you will find the default text copied above, change the text and click `Update File` button.

= 11. How to sign up for a ReadyGraph account and view my subscribers through readygraph.com? =

To sign-up for a readygraph account, go to the `Readygraph App` menu item in the Email Newsletter plugin drop-down menu (by clicking the cog-shaped icon).  Enter your site URL, Name, Email and Password in the specified text fields.  Click `Continue` and follow to configure the widget.  Once a user has signed up, you can view your subscribers by selecting the `Readygraph App` menu item in the Email Newsletter plugin drop-down menu (by clicking the cog-shaped icon) and click `Account Management`.

== Screenshots ==

1. Admin Menu. http://www.gopiplus.com/work/2010/09/25/email-newsletter/
2. Compose Mail. http://www.gopiplus.com/work/2010/09/25/email-newsletter/
3. Compose Mail. http://www.gopiplus.com/work/2010/09/25/email-newsletter/
4. Send Mail to Subscribed Users. http://www.gopiplus.com/work/2010/09/25/email-newsletter/
5. Send Mail to a Registered User. http://www.gopiplus.com/work/2010/09/25/email-newsletter/
6. Send Mail to Commenters. http://www.gopiplus.com/work/2010/09/25/email-newsletter/
7. Export Users to CSV. http://www.gopiplus.com/work/2010/09/25/email-newsletter/
8. Import Mails. http://www.gopiplus.com/work/2010/09/25/email-newsletter/

== Changelog ==

= 1.0 =

First version.

= 2.0 =

Non admin users cant access this plugin.

= 3.0 =

Check all, Uncheck all option.

= 4.0 =

Email subscribe box for front end.
Separate page to send emails to subscribed user.
Integrated the email newsletter plugin with simple contact form plugin, Here after we can send email to contacts list.

= 5.0 =

Tested up to 3.3

= 6.0 =

Now option to add FromName and FromEmail address for the emails.
Tested up to 3.3.1

= 7.0 =

New option to export the email address into csv format
New admin look

= 8.0 =

Tested up to 3.4
Import email option

Note:
Please enter your email address with comma separated.
Please enter maximum 25 email address at one time.
Comma not allowed at the end of the string.

= 9.0 =

Tested up to 3.4.1
Export the email address option removed, this option removed because of the security issues.

= 10.0 =

New demo link, www.gopiplus.com

= 11.0 =

Implemented most awaited newsletter unsubscribe option.
Option available to add the unsubscribe link within the newsletter.

= 12.0 =

1. Option to delete multiple emails address in the view subscribed users menu
2. Option to send mail to limited users(Letter search option available in the send mail page, we can select the particular letters to send the mails).

= 13.0 =

New export email address option added (Fixed all security issue)
Tested up to 3.5

= 13.1 =

Small typo error fixed on the search alphabet. Now we can search the emails starting with M, N, O

= 14.0 =

1. Tested up to wordpress 3.6.
2. New admin layout.
3. Automatic welcome email to new subscriber. 
4. Admin email notification for every new subscriber.
5. Added security thingy that wordpress offers us.
6. New Short Code option to load the Subscription Box in posts and pages.
7. Improved documentation.

= 14.1 =

1. Search "ALL" option added in send mail pages.

= 14.2 =

1. Fixed small bug on export csv page (Missing argument 3 for download).
2. Charset utf-8 has been updated in the subscribe email page, so that it will support email for all the languages.

= 15.0 =

Option to setup Double Opt In or Single Opt In.
Double Opt In, means subscribers need to confirm their email address by an activation link sent them on a activation email message. 
Single Opt In, means subscribers do not need to confirm their email address.

= 16.0 =

Now this plugin support localization (or internationalization). i.e. option to translate into other languages. 
Plugin *.po file (email-newsletter.po) available in the languages folder.
(Translators Welcome)

= 17.0 =

This plugin has been updated to include enhanced functionality through Readygraph features.

== Upgrade Notice ==

= 1.0 =

First version.

= 2.0 =

Non admin users cant access this plugin.

= 3.0 =

Check all, Uncheck all option.

= 4.0 =

Email subscribe box for front end.
Separate page to send emails to subscribed user.
Integrated the email newsletter plugin with simple contact form plugin, Here after we can send email to contacts list.

= 5.0 =

Tested up to 3.3

= 6.0 =

Now option to add FromName and FromEmail address for the emails.
Tested up to 3.3.1

= 7.0 =

New option to export the email address into csv format
New admin look

= 8.0 =

Tested up to 3.4
Import email option

Note:
Please enter your email address with comma separated.
Please enter maximum 25 email address at one time.
Comma not allowed at the end of the string.

= 9.0 =

Export the email address option removed, this option removed because of the security issues.
Tested up to 3.4.1

= 10.0 =

New demo link, www.gopiplus.com

= 11.0 =

Implemented most awaited newsletter unsubscribe option.
Option available to add the unsubscribe link within the newsletter.

= 12.0 =

1. Option to delete multiple emails address in the view subscribed users menu
2. Option to send mail to limited users(Letter search option available in the send mail page, we can select the particular letters to send the mails).

= 13.0 =

New export email address option added (Fixed all security issue)
Tested up to 3.5

= 13.1 =

Small typo error fixed on the search alphabet. Now we can search the emails starting with M, N, O

= 14.0 =

1. Tested up to wordpress 3.6.
2. New admin layout.
3. Automatic welcome email to new subscriber. 
4. Admin email notification for every new subscriber.
5. Added security thingy that wordpress offers us.
6. New Short Code option to load the Subscription Box in posts and pages.
7. Improved documentation.

= 14.1 =

1. Search "ALL" option added in send mail pages.

= 14.2 =

1. Fixed small bug on export csv page (Missing argument 3 for download).
2. Charset utf-8 has been updated in the subscribe email page, so that it will support email for all the languages.

= 15.0 =

Option to setup Double Opt In or Single Opt In.
Double Opt In, means subscribers need to confirm their email address by an activation link sent them on a activation email message. 
Single Opt In, means subscribers do not need to confirm their email address.

= 16.0 =

Now this plugin support localization (or internationalization). i.e. option to translate into other languages. 
Plugin *.po file (email-newsletter.po) available in the languages folder.
(Translators Welcome)

= 17.0 =

This plugin has been updated to include enhanced functionality through Readygraph features.